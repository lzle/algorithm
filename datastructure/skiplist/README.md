# 跳表

跳表是一种各方面性能都比较优秀的动态数据结构，可以支持快速地`插入、删除、查找`操作。甚至可以替代`红黑树`。

对于个单链表来说，即便存储的数据是有序的，依然需要遍历链表，复杂度`O(n)`。

为了提高查询效率，可以再链表的基础上加上`索引`。链表加多级索引的结构，就是`跳表`。

<img src="https://static001.geekbang.org/resource/image/49/65/492206afe5e2fef9f683c7cff83afa65.jpg" width=500>

#### 查询有多快？

`时间复杂度为O(logn)。以两个节点产生一个索引为例，h=log2n-1。`

#### 浪费空间？

`索引的结点总和就是 n/2+n/4+n/8…+8+4+2=n-2。所以，跳表的空间复杂度是 O(n)。`

`可以3个或5个结点建立索引，使用索引将大大减少。`

`实际使用是，索引不存储数据，只存储指针，空间占用大大减少。`

#### 索引动态更新

为了避免跳表变成原始的单链表，需要对索引进行动态更新，维护索引的平衡性。

跳表是通过`随机函数`来维护前面提到的“平衡性”。通过一个随机函数，来决定
将这个结点插入到哪几级索引中，比如随机函数生成了值 K，那我们就将这个结
点添加到第一级到第 K 级这 K 级索引中。


## 时间复杂度

查询  `O(logn)`

插入  `O(logn)`

删除  `O(logn)，需要双向链表，查找前驱结点。`

## 小结

跳表在实际中并没有一个现成的实现，在开发中，往往需要自己实现。

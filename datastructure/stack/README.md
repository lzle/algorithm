# 栈

后进者先出，先进者后出，这就是典型的“栈”结构。

特性：`只允许在一端插入和删除数据`

类别：`链式栈`、`顺序栈`


## 时间复杂度

出栈  `O(1)`

入栈  `O(1)`


## 函数调用栈

栈作为一个比较基础的数据结构，应用场景还是蛮多的。其中，比较经典的一个应用场景就是`函数调用栈`。

`操作系统给每个线程分配了一块独立的内存空间，这块内存被组织成“栈”这种结构, 用来存储函数调用时的临时变量。`

`每进入一个函数，就会将临时变量作为一个栈帧入栈，当被调用函数执行完成，返回之后，将这个函数对应的栈帧出栈。`


## 栈的应用

`栈在表达式求值`

`栈在括号匹配`

## 思考 🤔

`我们在讲栈的应用时，讲到用函数调用栈来保存临时变量，为什么函数调用要用“栈”来保存临时变量呢？用其他数据结构不行吗？`

`内存管理中有个“堆栈”的概念与这里的栈有什么区别？`

## 练习

1）[实现顺序栈]() :apple:

2）[实现链式栈]() :apple:

4）[有效的括号](https://github.com/lzle/leetcode/tree/master/note/20) :green_apple:

4）[最长有效的括号](https://github.com/lzle/leetcode/tree/master/note/206) :apple:

5）[逆波兰表达式求值](https://github.com/lzle/leetcode/tree/master/note/150) :lemon:

## 解答

1）为什么函数调用要用`“栈”`来保存`临时变量`呢？用其他数据结构不行吗？

`其实，我们不一定非要用栈来保存临时变量，只不过如果这个函数调用符合后进先出的特性，用栈这种数据结构来实现，是最顺理成章的选择。`

`从调用函数进入被调用函数，对于数据来说，变化的是什么呢？是作用域。所以根本上，只要能保证每进入一个新的函数，都是一个新的作用域就可以。而要实现这个，用栈就非常方便。在进入被调用函数的时候，分配一段栈空间给这个函数的变量，在函数结束的时候，将栈顶复位，正好回到调用函数的作用域内。`


2）堆栈

`内存中的堆栈和数据结构堆栈不是一个概念，可以说内存中的堆栈是真实存在的物理区，数据结构中的堆栈是抽象的数据存储结构。`
 
`内存空间在逻辑上分为三部分：代码区、静态数据区和动态数据区，动态数据区又分为栈区和堆区。`
 
* `代码区：存储方法体的二进制代码。高级调度（作业调度）、中级调度（内存调度）、低级调度（进程调度）控制代码区执行代码的切换。`
 
* `静态数据区：存储全局变量、静态变量、常量，常量包括final修饰的常量和String常量。系统自动分配和回收。`
 
* `栈区：存储运行方法的形参、局部变量、返回值。由系统自动分配和回收。`
 
* `堆区：new一个对象的引用或地址存储在栈区，指向该对象存储在堆区中的真实数据。`
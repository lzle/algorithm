# 树

什么是树？

> 树是一种非线性数据结构，由节点组成。节点又分为根节点、叶节点、节点。

概念：节点`高度`、`深度`、`层数`。

<img src="https://static001.geekbang.org/resource/image/50/b4/50f89510ad1f7570791dd12f4e9adeb4.jpg" width=500>

### 二叉树

在树的基础上，每个节点最多只有两个子节点。

**存储**

存储方式：`链式存储法`、`顺序存储法`。

满二叉树: 除叶子节点外，每个节点都有两个子节点的二叉树。

完全二叉树：最后一层的叶子节点都靠左排列，其他节点个数都要达到最大。

> 完全二叉树使用数组存储非常节省内存，不需要存储左右子节点的指针。

> 堆由完全二叉树构成，存储方式为数组。

**遍历**

经典的三种方法：`前序遍历`、`中序遍历`、`后序遍历`。时间复杂度是 `O(n)`。


### 二叉查找树

支持动态数据集合的快速插入、删除、查找操作。

**结构**

任意一个节点，左子树值小于节点值，右子树大于节点的值。

使用`中序遍历`，可以顺序输出数据序列，时间复杂度是 O(n)。

**查找**

左小右大递归查找。

**插入**

递归比较，比节点小且右子树空则插入，比节点大且左子树空则插入。

**删除**

删除操作，稍微复杂了一点，有三种情况：

* `无子节点，直接删除`

* `只有一个子节点，子节点替换`

* `有两个子节点，右子树的最小节点替换`


**重复数据**

插入相同数据时，当大于当前值处理。同样查找时一样。


**时间复杂度**

时间复杂度其实都跟树的高度成正比，也就是 `O(height)`。

二叉查找树的性能并不稳定，极端情况下性能退化为`O(n)`。避免退化，又设计了更加复杂的数，平衡二叉查找树。


***

**思考**

1）`给定一组数据，比如 1，3，5，6，9，10。你来算算，可以构建出多少种不同的二叉树？`

2）`我们讲了三种二叉树的遍历方式，前、中、后序。实际上，还有另外一种遍历方式，也就是按层遍历，你知道如何实现吗？`

3）`二叉树相对于散列表的优势?`

4）`实现一个二叉查找树，并且支持插入、删除、查找操作`

5）`实现查找二叉查找树中某个节点的后继、前驱节点`

6）`实现二叉树前、中、后序以及按层遍历`

**解答**

1） `既然是数组了，说明是完全二叉树，应该有n的阶乘个组合。`

2）`二叉树按层遍历，可以看作以根结点为起点，图的广度优先遍历的问题。`

3） `二树优势`

* `二叉树查找树可以中序遍历有序输出，散列表需要排序操作。`

* `散列表有冲突，性能不稳定。平衡查找二叉树性能稳定。`

* `散列表实现复杂，需要考虑散列函数的设计、冲突解决办法、扩容、缩容等。`

* `尽管散列表的查找等操作的时间复杂度是常量级的，但因为哈希冲突的存在，这个常量不一定比 logn 小。`
